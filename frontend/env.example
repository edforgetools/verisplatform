# =============================================================================
# VERIS - Environment Configuration Example
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# This file contains all environment variables used by the Veris application
# 
# SECURITY NOTE: Never commit .env.local or any file containing real secrets
# =============================================================================

# =============================================================================
# CLIENT-SIDE VARIABLES (NEXT_PUBLIC_*)
# =============================================================================
# These variables are exposed to the browser and should not contain secrets
# All client variables must be prefixed with NEXT_PUBLIC_

# Supabase Configuration (Client)
# Get these from your Supabase project settings > API
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-anon-key-here

# Stripe Configuration (Client)
# Set to 'test' for development, 'live' for production
# This controls which Stripe keys and price IDs are used
NEXT_PUBLIC_STRIPE_MODE=test

# Stripe Price IDs (Client)
# Get these from your Stripe dashboard > Products > Pricing
# These will be used based on the NEXT_PUBLIC_STRIPE_MODE setting
NEXT_PUBLIC_PRO_MONTHLY_PRICE_ID=price_1234567890abcdef
NEXT_PUBLIC_TEAM_MONTHLY_PRICE_ID=price_0987654321fedcba

# Site URL (Client)
# Used for redirects and webhook URLs
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# =============================================================================
# SERVER-SIDE VARIABLES
# =============================================================================
# These variables are only available on the server and can contain secrets
# Never prefix these with NEXT_PUBLIC_

# Supabase Service Key (Server)
# Get this from your Supabase project settings > API > service_role key
# This has elevated permissions - keep it secret!
supabaseservicekey=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-service-key-here

# Stripe Configuration (Server)
# Get these from your Stripe dashboard > Developers > API keys
# Use test keys for development, live keys for production
# The keys should match the NEXT_PUBLIC_STRIPE_MODE setting
STRIPE_SECRET_KEY=sk_test_1234567890abcdef
STRIPE_WEBHOOK_SECRET=whsec_1234567890abcdef

# Stripe Usage-Based Pricing (Server)
# Optional: For usage-based billing models
STRIPE_USAGE_PRICE_ID=price_usage_1234567890

# CRON Job Authentication (Server)
# Generate a secure random string for cron job authentication
# Used to secure scheduled tasks and webhooks
CRON_JOB_TOKEN=your-secure-cron-token-here-min-16-chars

# Legacy CRON support (Server)
# For backward compatibility - use CRON_JOB_TOKEN instead
CRON_SECRET=your-legacy-cron-secret-here

# Redis Configuration (Server)
# Used for rate limiting, caching, and session management
# Choose either UPSTASH_REDIS_URL or REDIS_URL
UPSTASH_REDIS_URL=redis://default:password@host:port
REDIS_URL=redis://localhost:6379

# Upstash Redis REST API (Server)
# Alternative Redis connection for serverless environments
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token-here

# Veris Cryptographic Keys (Server)
# Generate these using the key generation script
# These are used for signing and verifying proofs
VERIS_SIGNING_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nYour-private-key-here\n-----END PRIVATE KEY-----
VERIS_SIGNING_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----\nYour-public-key-here\n-----END PUBLIC KEY-----

# AWS Configuration (Server)
# Used for S3 registry storage and Arweave publishing
AWS_REGION=us-east-1
AWS_ROLE_ARN=arn:aws:iam::123456789012:role/veris-role

# S3 Registry Configuration (Server)
# Buckets for storing registry snapshots and proofs
REGISTRY_S3_BUCKET=veris-registry-dev
REGISTRY_S3_STAGING_BUCKET=veris-registry-staging
REGISTRY_S3_PRODUCTION_BUCKET=veris-registry-prod
REGISTRY_S3_PREFIX=registry/

# Arweave Configuration (Server)
# For publishing proofs to the Arweave network
ARWEAVE_GATEWAY_URL=https://arweave.net
ARWEAVE_WALLET_JSON={"kty":"RSA","n":"your-wallet-json-here"}

# Monitoring and Observability (Server)
# Optional: For error tracking and performance monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Internal Status Page (Server)
# Generate a secure random string for internal status page access
# Used to protect the /internal/status endpoint
INTERNAL_KEY=your-secure-internal-key-here-min-16-chars

# =============================================================================
# DEVELOPMENT-ONLY VARIABLES
# =============================================================================
# These are typically only needed for local development

# Node Environment
NODE_ENV=development

# Next.js Configuration
NEXT_PHASE=phase-development-server

# =============================================================================
# DEPLOYMENT VARIABLES (Auto-populated by Vercel)
# =============================================================================
# These are automatically set by Vercel during deployment
# You don't need to set these manually

# VERCEL_GIT_COMMIT_SHA=abc123def456
# VERCEL_GIT_COMMIT_REF=main
# VERCEL_GIT_COMMIT_AUTHOR_NAME=Your Name
# VERCEL_DEPLOYMENT_ID=deployment-123
# VERCEL_OIDC_TOKEN=oidc-token-here

# =============================================================================
# STRIPE MODE SWITCHING
# =============================================================================
# To switch between test and live modes:
#
# For TEST MODE (development):
# - Set NEXT_PUBLIC_STRIPE_MODE=test
# - Use test keys: sk_test_... and pk_test_...
# - Use test price IDs from your Stripe test dashboard
#
# For LIVE MODE (production):
# - Set NEXT_PUBLIC_STRIPE_MODE=live
# - Use live keys: sk_live_... and pk_live_...
# - Use live price IDs from your Stripe live dashboard
#
# The application will automatically use the correct keys and price IDs
# based on the NEXT_PUBLIC_STRIPE_MODE setting without code changes.
# =============================================================================

# =============================================================================
# QUICK START INSTRUCTIONS
# =============================================================================
# 1. Copy this file: cp env.example .env.local
# 2. Fill in the required values above
# 3. Generate signing keys: npm run generate-keys
# 4. Start the development server: npm run dev
#
# Required for basic functionality:
# - NEXT_PUBLIC_SUPABASE_URL
# - NEXT_PUBLIC_SUPABASE_ANON_KEY
# - supabaseservicekey
# - STRIPE_SECRET_KEY
# - STRIPE_WEBHOOK_SECRET
# - CRON_JOB_TOKEN
# - VERIS_SIGNING_PRIVATE_KEY
# - VERIS_SIGNING_PUBLIC_KEY
#
# Optional but recommended:
# - Redis configuration for rate limiting
# - AWS configuration for S3 registry
# - Arweave configuration for publishing
# =============================================================================
